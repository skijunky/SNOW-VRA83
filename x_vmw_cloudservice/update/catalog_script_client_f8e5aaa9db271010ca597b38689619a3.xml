<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="catalog_script_client">
    <catalog_script_client action="INSERT_OR_UPDATE">
        <active>true</active>
        <applies_catalog>false</applies_catalog>
        <applies_extended>false</applies_extended>
        <applies_req_item>true</applies_req_item>
        <applies_sc_task>false</applies_sc_task>
        <applies_target_record>false</applies_target_record>
        <applies_to>set</applies_to>
        <cat_item/>
        <cat_variable/>
        <condition/>
        <description/>
        <field/>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>makevariablesReadonlyonRITM</name>
        <order/>
        <script><![CDATA[function onLoad() {
    
    g_form.setVariablesReadOnly(true);
    var arr = g_form.getEditableFields();
    var catalog = g_form.getValue('cat_item');
    var gAjax = new GlideAjax('x_vmw_cloudservice.vRACSClientSciptBridge');
    gAjax.addParam('sysparm_name', 'getAllFields');
    gAjax.addParam('sysparm_catalogid', catalog);
    gAjax.getXMLAnswer(callBack);

    function callBack(response) {
        var answer = response;
        var arr = answer.split(",");
        for (var item = 0; item < arr.length; item++) {
            g_form.setDisplay(arr[item]);
        }
        var schema = g_form.getValue('dp_schema');
        var parsed = JSON.parse(schema);
        if (parsed && parsed.schema && parsed.schema.properties && Object.keys(parsed.schema.properties).length) {
            var properties = parsed.schema.properties;
            for (var key in properties) {
                var rgx = new RegExp('[^a-zA-Z0-9]', 'g');
                var name = key.replace(rgx, ' ').trim().replaceAll(' ', '_');
                g_form.setDisplay(name, true);
            }
        } else {
            g_form.setDisplay('reason', true);
        }

    }

}]]></script>
        <sys_class_name>catalog_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-09-29 10:45:51</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>f8e5aaa9db271010ca597b38689619a3</sys_id>
        <sys_mod_count>17</sys_mod_count>
        <sys_name>makevariablesReadonlyonRITM</sys_name>
        <sys_overrides/>
        <sys_package display_value="VMware vRealize Automation ITSM Application 8.3" source="x_vmw_cloudservice">0d6a0ec1db11bb407c83712ebf96194d</sys_package>
        <sys_policy/>
        <sys_scope display_value="VMware vRealize Automation ITSM Application 8.3">0d6a0ec1db11bb407c83712ebf96194d</sys_scope>
        <sys_update_name>catalog_script_client_f8e5aaa9db271010ca597b38689619a3</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-09-29 14:46:46</sys_updated_on>
        <table/>
        <type>onLoad</type>
        <ui_type>10</ui_type>
        <variable_set display_value="Deployment Default Variables">e9e7bd89db935010ca597b3868961900</variable_set>
        <view/>
    </catalog_script_client>
</record_update>
